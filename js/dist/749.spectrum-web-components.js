"use strict";(globalThis.webpackChunkhelix_import_ui=globalThis.webpackChunkhelix_import_ui||[]).push([[749],{749:(t,e,i)=>{i.r(e),i.d(e,{Overlay:()=>Et});var n=i(599),o=i(392),s=i(796),r=i(338),a=i(731),l=i(171);const c=o.iv`
@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;max-height:100%;pointer-events:none;position:fixed;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:100dvh;height:-webkit-fill-available;height:fill-available;left:0;position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(
--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)
);animation-duration:var(
--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)
);animation-timing-function:var(
--spectrum-global-animation-ease-out,ease-out
);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}
`,h=t=>{if(!t)return null;const e=t.closest("active-overlay");if(e)return e;const i=t.getRootNode();return i.host?h(i.host):null},d=(t,e)=>{const i=[];if(!t)return[];for(const n of e)n.root&&h(n.root)===t&&(i.push(n),i.push(...d(n,e)));return i};function p(t){return t.split("-")[1]}function u(t){return"y"===t?"height":"width"}function m(t){return t.split("-")[0]}function f(t){return["top","bottom"].includes(m(t))?"x":"y"}function v(t,e,i){let{reference:n,floating:o}=t;const s=n.x+n.width/2-o.width/2,r=n.y+n.height/2-o.height/2,a=f(e),l=u(a),c=n[l]/2-o[l]/2,h="x"===a;let d;switch(m(e)){case"top":d={x:s,y:n.y-o.height};break;case"bottom":d={x:s,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:r};break;case"left":d={x:n.x-o.width,y:r};break;default:d={x:n.x,y:n.y}}switch(p(e)){case"start":d[a]-=c*(i&&h?-1:1);break;case"end":d[a]+=c*(i&&h?-1:1)}return d}const y=async(t,e,i)=>{const{placement:n="bottom",strategy:o="absolute",middleware:s=[],platform:r}=i,a=s.filter(Boolean),l=await(null==r.isRTL?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:h,y:d}=v(c,n,l),p=n,u={},m=0;for(let i=0;i<a.length;i++){const{name:s,fn:f}=a[i],{x:y,y:g,data:b,reset:w}=await f({x:h,y:d,initialPlacement:n,placement:p,strategy:o,middlewareData:u,rects:c,platform:r,elements:{reference:t,floating:e}});h=null!=y?y:h,d=null!=g?g:d,u={...u,[s]:{...u[s],...b}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(p=w.placement),w.rects&&(c=!0===w.rects?await r.getElementRects({reference:t,floating:e,strategy:o}):w.rects),({x:h,y:d}=v(c,p,l))),i=-1)}return{x:h,y:d,placement:p,strategy:o,middlewareData:u}};function g(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function b(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function w(t,e){var i;void 0===e&&(e={});const{x:n,y:o,platform:s,rects:r,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:u=0}=e,m=g(u),f=a[p?"floating"===d?"reference":"floating":d],v=b(await s.getClippingRect({element:null==(i=await(null==s.isElement?void 0:s.isElement(f)))||i?f:f.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),y="floating"===d?{...r.floating,x:n,y:o}:r.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),x=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},C=b(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-C.top+m.top)/x.y,bottom:(C.bottom-v.bottom+m.bottom)/x.y,left:(v.left-C.left+m.left)/x.x,right:(C.right-v.right+m.right)/x.x}}const x=Math.min,C=Math.max;function T(t,e,i){return C(t,x(e,i))}const O=t=>({name:"arrow",options:t,async fn(e){const{element:i,padding:n=0}=t||{},{x:o,y:s,placement:r,rects:a,platform:l}=e;if(null==i)return{};const c=g(n),h={x:o,y:s},d=f(r),m=u(d),v=await l.getDimensions(i),y="y"===d?"top":"left",b="y"===d?"bottom":"right",w=a.reference[m]+a.reference[d]-h[d]-a.floating[m],x=h[d]-a.reference[d],C=await(null==l.getOffsetParent?void 0:l.getOffsetParent(i));let O=C?"y"===d?C.clientHeight||0:C.clientWidth||0:0;0===O&&(O=a.floating[m]);const E=w/2-x/2,A=c[y],R=O-v[m]-c[b],P=O/2-v[m]/2+E,k=T(A,P,R),L=null!=p(r)&&P!=k&&a.reference[m]/2-(P<A?c[y]:c[b])-v[m]/2<0;return{[d]:h[d]-(L?P<A?A-P:R-P:0),data:{[d]:k,centerOffset:P-k}}}}),E=(["top","right","bottom","left"].reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]),{left:"right",right:"left",bottom:"top",top:"bottom"});function A(t){return t.replace(/left|right|bottom|top/g,(t=>E[t]))}function R(t,e,i){void 0===i&&(i=!1);const n=p(t),o=f(t),s=u(o);let r="x"===o?n===(i?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=A(r)),{main:r,cross:A(r)}}const P={start:"end",end:"start"};function k(t){return t.replace(/start|end/g,(t=>P[t]))}const L=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var i;const{placement:n,middlewareData:o,rects:s,initialPlacement:r,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:v=!0,...y}=t,g=m(n),b=m(r)===r,x=await(null==a.isRTL?void 0:a.isRTL(l.floating)),C=d||(b||!v?[A(r)]:function(t){const e=A(t);return[k(t),e,k(e)]}(r));d||"none"===f||C.push(...function(t,e,i,n){const o=p(t);let s=function(t,e,i){const n=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return i?e?o:n:e?n:o;case"left":case"right":return e?s:r;default:return[]}}(m(t),"start"===i,n);return o&&(s=s.map((t=>t+"-"+o)),e&&(s=s.concat(s.map(k)))),s}(r,v,f,x));const T=[r,...C],O=await w(e,y),E=[];let P=(null==(i=o.flip)?void 0:i.overflows)||[];if(c&&E.push(O[g]),h){const{main:t,cross:e}=R(n,s,x);E.push(O[t],O[e])}if(P=[...P,{placement:n,overflows:E}],!E.every((t=>t<=0))){var L,F;const t=((null==(L=o.flip)?void 0:L.index)||0)+1,e=T[t];if(e)return{data:{index:t,overflows:P},reset:{placement:e}};let i=null==(F=P.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:F.placement;if(!i)switch(u){case"bestFit":{var D;const t=null==(D=P.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:D[0];t&&(i=t);break}case"initialPlacement":i=r}if(n!==i)return{reset:{placement:i}}}return{}}}},F=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:i,y:n}=e,o=await async function(t,e){const{placement:i,platform:n,elements:o}=t,s=await(null==n.isRTL?void 0:n.isRTL(o.floating)),r=m(i),a=p(i),l="x"===f(i),c=["left","top"].includes(r)?-1:1,h=s&&l?-1:1,d="function"==typeof e?e(t):e;let{mainAxis:u,crossAxis:v,alignmentAxis:y}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&"number"==typeof y&&(v="end"===a?-1*y:y),l?{x:v*h,y:u*c}:{x:u*c,y:v*h}}(e,t);return{x:i+o.x,y:n+o.y,data:o}}}};const D=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:n,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:a={fn:t=>{let{x:e,y:i}=t;return{x:e,y:i}}},...l}=t,c={x:i,y:n},h=await w(e,l),d=f(m(o)),p=function(t){return"x"===t?"y":"x"}(d);let u=c[d],v=c[p];if(s){const t="y"===d?"bottom":"right";u=T(u+h["y"===d?"top":"left"],u,u-h[t])}if(r){const t="y"===p?"bottom":"right";v=T(v+h["y"===p?"top":"left"],v,v-h[t])}const y=a.fn({...e,[d]:u,[p]:v});return{...y,data:{x:y.x-i,y:y.y-n}}}}},M=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:i,rects:n,platform:o,elements:s}=e,{apply:r=(()=>{}),...a}=t,l=await w(e,a),c=m(i),h=p(i),d="x"===f(i),{width:u,height:v}=n.floating;let y,g;"top"===c||"bottom"===c?(y=c,g=h===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(g=c,y="end"===h?"top":"bottom");const b=v-l[y],T=u-l[g];let O=b,E=T;if(d?E=x(u-l.right-l.left,T):O=x(v-l.bottom-l.top,b),!e.middlewareData.shift&&!h){const t=C(l.left,0),e=C(l.right,0),i=C(l.top,0),n=C(l.bottom,0);d?E=u-2*(0!==t||0!==e?t+e:C(l.left,l.right)):O=v-2*(0!==i||0!==n?i+n:C(l.top,l.bottom))}await r({...e,availableWidth:E,availableHeight:O});const A=await o.getDimensions(s.floating);return u!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function W(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function _(t){return W(t).getComputedStyle(t)}const H=Math.min,S=Math.max,z=Math.round;function N(t){const e=_(t);let i=parseFloat(e.width),n=parseFloat(e.height);const o=t.offsetWidth,s=t.offsetHeight,r=z(i)!==o||z(n)!==s;return r&&(i=o,n=s),{width:i,height:n,fallback:r}}function B(t){return j(t)?(t.nodeName||"").toLowerCase():""}let I;function $(){if(I)return I;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(I=t.brands.map((t=>t.brand+"/"+t.version)).join(" "),I):navigator.userAgent}function K(t){return t instanceof W(t).HTMLElement}function q(t){return t instanceof W(t).Element}function j(t){return t instanceof W(t).Node}function V(t){return"undefined"!=typeof ShadowRoot&&(t instanceof W(t).ShadowRoot||t instanceof ShadowRoot)}function U(t){const{overflow:e,overflowX:i,overflowY:n,display:o}=_(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!["inline","contents"].includes(o)}function X(t){return["table","td","th"].includes(B(t))}function Y(t){const e=/firefox/i.test($()),i=_(t),n=i.backdropFilter||i.WebkitBackdropFilter;return"none"!==i.transform||"none"!==i.perspective||!!n&&"none"!==n||e&&"filter"===i.willChange||e&&!!i.filter&&"none"!==i.filter||["transform","perspective"].some((t=>i.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const e=i.contain;return null!=e&&e.includes(t)}))}function G(){return/^((?!chrome|android).)*safari/i.test($())}function J(t){return["html","body","#document"].includes(B(t))}function Q(t){return q(t)?t:t.contextElement}const Z={x:1,y:1};function tt(t){const e=Q(t);if(!K(e))return Z;const i=e.getBoundingClientRect(),{width:n,height:o,fallback:s}=N(e);let r=(s?z(i.width):i.width)/n,a=(s?z(i.height):i.height)/o;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}function et(t,e,i,n){var o,s;void 0===e&&(e=!1),void 0===i&&(i=!1);const r=t.getBoundingClientRect(),a=Q(t);let l=Z;e&&(n?q(n)&&(l=tt(n)):l=tt(t));const c=a?W(a):window,h=G()&&i;let d=(r.left+(h&&(null==(o=c.visualViewport)?void 0:o.offsetLeft)||0))/l.x,p=(r.top+(h&&(null==(s=c.visualViewport)?void 0:s.offsetTop)||0))/l.y,u=r.width/l.x,m=r.height/l.y;if(a){const t=W(a),e=n&&q(n)?W(n):n;let i=t.frameElement;for(;i&&n&&e!==t;){const t=tt(i),e=i.getBoundingClientRect(),n=getComputedStyle(i);e.x+=(i.clientLeft+parseFloat(n.paddingLeft))*t.x,e.y+=(i.clientTop+parseFloat(n.paddingTop))*t.y,d*=t.x,p*=t.y,u*=t.x,m*=t.y,d+=e.x,p+=e.y,i=W(i).frameElement}}return{width:u,height:m,top:p,right:d+u,bottom:p+m,left:d,x:d,y:p}}function it(t){return((j(t)?t.ownerDocument:t.document)||window.document).documentElement}function nt(t){return q(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ot(t){return et(it(t)).left+nt(t).scrollLeft}function st(t){if("html"===B(t))return t;const e=t.assignedSlot||t.parentNode||V(t)&&t.host||it(t);return V(e)?e.host:e}function rt(t){const e=st(t);return J(e)?e.ownerDocument.body:K(e)&&U(e)?e:rt(e)}function at(t,e){var i;void 0===e&&(e=[]);const n=rt(t),o=n===(null==(i=t.ownerDocument)?void 0:i.body),s=W(n);return o?e.concat(s,s.visualViewport||[],U(n)?n:[]):e.concat(n,at(n))}function lt(t,e,i){let n;if("viewport"===e)n=function(t,e){const i=W(t),n=it(t),o=i.visualViewport;let s=n.clientWidth,r=n.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;const t=G();(!t||t&&"fixed"===e)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:s,height:r,x:a,y:l}}(t,i);else if("document"===e)n=function(t){const e=it(t),i=nt(t),n=t.ownerDocument.body,o=S(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=S(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-i.scrollLeft+ot(t);const a=-i.scrollTop;return"rtl"===_(n).direction&&(r+=S(e.clientWidth,n.clientWidth)-o),{width:o,height:s,x:r,y:a}}(it(t));else if(q(e))n=function(t,e){const i=et(t,!0,"fixed"===e),n=i.top+t.clientTop,o=i.left+t.clientLeft,s=K(t)?tt(t):{x:1,y:1};return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:o*s.x,y:n*s.y}}(e,i);else{const i={...e};if(G()){var o,s;const e=W(t);i.x-=(null==(o=e.visualViewport)?void 0:o.offsetLeft)||0,i.y-=(null==(s=e.visualViewport)?void 0:s.offsetTop)||0}n=i}return b(n)}function ct(t,e){return K(t)&&"fixed"!==_(t).position?e?e(t):t.offsetParent:null}function ht(t,e){const i=W(t);let n=ct(t,e);for(;n&&X(n)&&"static"===_(n).position;)n=ct(n,e);return n&&("html"===B(n)||"body"===B(n)&&"static"===_(n).position&&!Y(n))?i:n||function(t){let e=st(t);for(;K(e)&&!J(e);){if(Y(e))return e;e=st(e)}return null}(t)||i}function dt(t,e,i){const n=K(e),o=it(e),s=et(t,!0,"fixed"===i,e);let r={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(n||!n&&"fixed"!==i)if(("body"!==B(e)||U(o))&&(r=nt(e)),K(e)){const t=et(e,!0);a.x=t.x+e.clientLeft,a.y=t.y+e.clientTop}else o&&(a.x=ot(o));return{x:s.left+r.scrollLeft-a.x,y:s.top+r.scrollTop-a.y,width:s.width,height:s.height}}const pt={getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:n,strategy:o}=t;const s="clippingAncestors"===i?function(t,e){const i=e.get(t);if(i)return i;let n=at(t).filter((t=>q(t)&&"body"!==B(t))),o=null;const s="fixed"===_(t).position;let r=s?st(t):t;for(;q(r)&&!J(r);){const t=_(r),e=Y(r);"fixed"===t.position?o=null:(s?e||o:e||"static"!==t.position||!o||!["absolute","fixed"].includes(o.position))?o=t:n=n.filter((t=>t!==r)),r=st(r)}return e.set(t,n),n}(e,this._c):[].concat(i),r=[...s,n],a=r[0],l=r.reduce(((t,i)=>{const n=lt(e,i,o);return t.top=S(n.top,t.top),t.right=H(n.right,t.right),t.bottom=H(n.bottom,t.bottom),t.left=S(n.left,t.left),t}),lt(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:i,strategy:n}=t;const o=K(i),s=it(i);if(i===s)return e;let r={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((o||!o&&"fixed"!==n)&&(("body"!==B(i)||U(s))&&(r=nt(i)),K(i))){const t=et(i);a=tt(i),l.x=t.x+i.clientLeft,l.y=t.y+i.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-r.scrollLeft*a.x+l.x,y:e.y*a.y-r.scrollTop*a.y+l.y}},isElement:q,getDimensions:function(t){return K(t)?N(t):t.getBoundingClientRect()},getOffsetParent:ht,getDocumentElement:it,getScale:tt,async getElementRects(t){let{reference:e,floating:i,strategy:n}=t;const o=this.getOffsetParent||ht,s=this.getDimensions;return{reference:dt(e,await o(i),n),floating:{x:0,y:0,...await s(i)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===_(t).direction},ut=(t,e,i)=>{const n=new Map,o={platform:pt,...i},s={...o.platform,_c:n};return y(t,e,{...o,platform:s})};var mt=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,vt=(t,e,i,n)=>{for(var o,s=n>1?void 0:n?ft(e,i):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(n?o(e,i,s):o(s))||s);return n&&s&&mt(e,i,s),s};const yt={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{dispose:"dispose"}},dispose:{on:{disposed:"disposed"}},disposed:{on:{}}}},gt=(t,e)=>t?e&&yt.states[t].on[e]||t:yt.initial,bt=t=>{var e;return null!=(e={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[t])?e:[t]},wt=class extends n.o{constructor(){super(),this.contentAnimationPromise=Promise.resolve(!0),this.resolveContentAnimationPromise=()=>{},this._state=gt(),this.animating=!1,this.theme={},this.tabbingAway=!1,this.offset=6,this.skidding=0,this.interaction="hover",this.positionAnimationFrame=0,this.willNotifyClosed=!1,this.isConstrained=!1,this.updateOverlayPosition=()=>{"modal"!==this.interaction&&this.cleanup?this.dispatchEvent(new Event("close")):this.setOverlayPosition()},this.resetOverlayPosition=()=>{this.style.removeProperty("max-height"),this.style.removeProperty("height"),this.initialHeight=void 0,this.isConstrained=!1,this.offsetHeight,this.setOverlayPosition()},this.setOverlayPosition=async()=>{if(!this.placement||"none"===this.placement)return;function t(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e||-1e4}await(document.fonts?document.fonts.ready:Promise.resolve());const e=this.virtualTrigger?L({padding:8,fallbackPlacements:bt(this.placement)}):L({padding:8}),i=[F({mainAxis:this.offset,crossAxis:this.skidding}),D({padding:8}),e,M({padding:8,apply:({availableWidth:t,availableHeight:e,rects:{floating:i}})=>{const n=Math.max(100,Math.floor(e)),o=i.height;this.initialHeight=(this.isConstrained||this.virtualTrigger)&&this.initialHeight||o,this.isConstrained=o<this.initialHeight||n<=o;const s=this.isConstrained?`${n}px`:"";Object.assign(this.style,{maxWidth:`${Math.floor(t)}px`,maxHeight:s,height:s})}})];this.overlayContentTip&&i.push(O({element:this.overlayContentTip}));const{x:n,y:o,placement:s,middlewareData:r}=await ut(this.virtualTrigger||this.trigger,this,{placement:this.placement,middleware:i,strategy:"fixed"});if(Object.assign(this.style,{top:"0px",left:"0px",transform:`translate(${t(n)}px, ${t(o)}px)`}),s!==this.getAttribute("actual-placement")&&(this.setAttribute("actual-placement",s),this.overlayContent.setAttribute("placement",s)),this.overlayContentTip&&r.arrow){const{x:e,y:i}=r.arrow;Object.assign(this.overlayContentTip.style,{left:null!=e?`${t(e)}px`:"",top:null!=i?`${t(i)}px`:"",right:"",bottom:""})}},this.handleInlineTriggerKeydown=t=>{const{code:e,shiftKey:i}=t;if("Tab"===e){if(i)return this.tabbingAway=!0,void this.dispatchEvent(new Event("close"));t.stopPropagation(),t.preventDefault(),this.focus()}},this.stealOverlayContentPromise=Promise.resolve(),this.stealOverlayContentPromise=new Promise((t=>this.stealOverlayContentResolver=t))}get state(){return this._state}set state(t){const e=gt(this.state,t);e!==this.state&&(this._state=e,"active"===this.state||"hiding"===this.state?this.setAttribute("state",this.state):this.removeAttribute("state"))}async focus(){const t=(0,l.i)(this);if(t){t.updateComplete&&await t.updateComplete;const e=this.getRootNode().activeElement;(e===this||!this.contains(e))&&t.focus()}else super.focus();this.removeAttribute("tabindex")}get hasTheme(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}static get styles(){return[c]}get hasModalRoot(){return!!this._modalRoot}feature(){this.contains(document.activeElement)||(this.tabIndex=-1);const t=h(this.trigger);t&&"open"===t.slot&&(this._modalRoot=t._modalRoot||t),("modal"===this.interaction||this._modalRoot)&&(this.slot="open","modal"===this.interaction&&this.setAttribute("aria-modal","true"),this._modalRoot&&(null==t||t.feature()))}obscure(t){if(this.slot&&"modal"===t){if(this.removeAttribute("slot"),this.removeAttribute("aria-modal"),"modal"!==this.interaction){const e=h(this.trigger);return this._modalRoot=null==e?void 0:e.obscure(t),this._modalRoot}return this}}async willUpdate(){this.hasUpdated||!this.overlayContent||!this.trigger||(this.stealOverlayContent(this.overlayContent),this.state="active",this.feature(),this.placement&&"none"!==this.placement&&(await this.updateOverlayPosition(),document.addEventListener("sp-update-overlays",this.resetOverlayPosition)),this.placement&&"none"!==this.placement&&(this.contentAnimationPromise=this.applyContentAnimation("sp-overlay-fade-in")))}async openCallback(t){await this.updateComplete,this.receivesFocus&&await this.focus(),await t(),this.trigger.dispatchEvent(new CustomEvent("sp-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}))}open(t){this.extractDetail(t)}extractDetail(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}dispose(){"dispose"===this.state&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener("keydown",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state="disposed",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")),this.willNotifyClosed=!1),this.cleanup&&this.cleanup())}stealOverlayContent(t){this.originalPlacement=t.getAttribute("placement"),this.restoreContent=(0,a.G)([t],this,{position:"beforeend",prepareCallback:t=>{const e=t.slot,i=t.placement;return t.removeAttribute("slot"),t=>{t.slot=e,t.placement=i}}}),this.stealOverlayContentResolver()}returnOverlayContent(){if(!this.restoreContent)return;const[t]=this.restoreContent();this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute("placement",this.originalPlacement),delete this.originalPlacement)}async placeOverlay(){!this.placement||"none"===this.placement||(this.cleanup=function(t,e,i,n){void 0===n&&(n={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=!0,animationFrame:a=!1}=n,l=o&&!a,c=l||s?[...q(t)?at(t):t.contextElement?at(t.contextElement):[],...at(e)]:[];c.forEach((t=>{l&&t.addEventListener("scroll",i,{passive:!0}),s&&t.addEventListener("resize",i)}));let h,d=null;if(r){let n=!0;d=new ResizeObserver((()=>{n||i(),n=!1})),q(t)&&!a&&d.observe(t),q(t)||!t.contextElement||a||d.observe(t.contextElement),d.observe(e)}let p=a?et(t):null;return a&&function e(){const n=et(t);!p||n.x===p.x&&n.y===p.y&&n.width===p.width&&n.height===p.height||i(),p=n,h=requestAnimationFrame(e)}(),i(),()=>{var t;c.forEach((t=>{l&&t.removeEventListener("scroll",i),s&&t.removeEventListener("resize",i)})),null==(t=d)||t.disconnect(),d=null,a&&cancelAnimationFrame(h)}}(this.virtualTrigger||this.trigger,this,this.updateOverlayPosition,{elementResize:!1}))}async hide(t=!0){"active"===this.state&&(this.state="hiding",t&&await this.applyContentAnimation("sp-overlay-fade-out"),this.state="dispose")}schedulePositionUpdate(){cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame((()=>{this.cleanup?this.updateOverlayPosition():this.placeOverlay()}))}onSlotChange(){this.schedulePositionUpdate()}applyContentAnimation(t){return"none"===this.placement?Promise.resolve(!0):(this.resolveContentAnimationPromise(),new Promise((e=>{this.resolveContentAnimationPromise=()=>{e(!1)};const i=this.shadowRoot.querySelector("#contents"),n=o=>{t===o.animationName&&(i.removeEventListener("animationend",n),i.removeEventListener("animationcancel",n),this.animating=!1,e("animationcancel"===o.type))};i.addEventListener("animationend",n),i.addEventListener("animationcancel",n),i.style.animationName=t,this.animating=!0})))}renderTheme(t){const{color:e,scale:i,lang:n,theme:r}=this.theme;return o.dy`
            <sp-theme
                theme=${(0,s.o)(r)}
                color=${(0,s.o)(e)}
                scale=${(0,s.o)(i)}
                lang=${(0,s.o)(n)}
                part="theme"
            >
                ${t}
            </sp-theme>
        `}render(){const t=o.dy`
            <div id="contents">
                <slot @slotchange=${this.onSlotChange}></slot>
            </div>
        `;return this.hasTheme?this.renderTheme(t):t}static create(t){const e=new wt;return t.content&&e.open(t),e}async getUpdateComplete(){const t=[super.getUpdateComplete(),this.stealOverlayContentPromise];t.push(this.contentAnimationPromise),void 0!==this.overlayContent.updateComplete&&t.push(this.overlayContent.updateComplete);const[e]=await Promise.all(t);return e}disconnectedCallback(){document.removeEventListener("sp-update-overlays",this.resetOverlayPosition),super.disconnectedCallback()}};let xt=wt;vt([(0,r.Cb)()],xt.prototype,"_state",2),vt([(0,r.Cb)({reflect:!0,type:Boolean})],xt.prototype,"animating",2),vt([(0,r.Cb)({reflect:!0})],xt.prototype,"placement",2),vt([(0,r.Cb)({attribute:!1})],xt.prototype,"theme",2),vt([(0,r.Cb)({attribute:!1})],xt.prototype,"receivesFocus",2);class Ct{constructor(t={}){this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,t)}async openTimer(t){if(this.cancelCooldownTimer(),!this.component||t!==this.component)return this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=t,!this.isWarm&&(this.promise=new Promise((t=>{this.resolve=t,this.timeout=window.setTimeout((()=>{this.resolve&&(this.resolve(!1),this.isWarm=!0)}),this.warmUpDelay)})),this.promise);if(this.promise)return this.promise;throw new Error("Inconsistent state")}close(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}resetCooldownTimer(){this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((()=>{this.isWarm=!1,delete this.cooldownTimeout}),this.coolDownDelay))}cancelCooldownTimer(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}function Tt(){return new Promise((t=>requestAnimationFrame((()=>t()))))}customElements.define("active-overlay",xt);const Ot=class{constructor(t,e,i){this.isOpen=!1,this.owner=t,this.overlayElement=i,this.interaction=e}static async open(t,e,i,n){const o=new Ot(t,e,i);return await o.open(n),()=>{o.close()}}static update(){const t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}async open({abortPromise:t,delayed:e,offset:i=0,placement:n="top",receivesFocus:o,notImmediatelyClosable:s,virtualTrigger:r,root:a}){if(this.isOpen)return!0;void 0===e&&(e=this.overlayElement.hasAttribute("delayed"));const l={color:void 0,scale:void 0,lang:void 0,theme:void 0},c=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:l,cancelable:!0});this.owner.dispatchEvent(c);const h={},d=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:h,cancelable:!0});return this.overlayElement.dispatchEvent(d),await Ot.overlayStack.openOverlay({abortPromise:t,content:this.overlayElement,contentTip:h.overlayContentTipElement,delayed:e,offset:i,placement:n,trigger:this.owner,interaction:this.interaction,theme:l,receivesFocus:o,root:a,notImmediatelyClosable:s,virtualTrigger:r,...h}),this.isOpen=!0,!0}close(){Ot.overlayStack.closeOverlay(this.overlayElement)}};let Et=Ot;Et.overlayStack=new class{constructor(){this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new Ct,this.canTabTrap=!0,this.trappingInited=!1,this._eventsAreBound=!1,this._bodyMarginsApplied=!1,this.forwardContextmenuEvent=async t=>{var e;const i=this.overlays[this.overlays.length-1];!this.trappingInited||"modal"!==i.interaction||t.target!==this.overlayHolder||(t.stopPropagation(),t.preventDefault(),await this.closeTopOverlay(),null==(e=((t,e)=>{let i=document.elementFromPoint(t,e);for(;null!=i&&i.shadowRoot;){const n=i.shadowRoot.elementFromPoint(t,e);if(!n||n===i)break;i=n}return i})(t.clientX,t.clientY))||e.dispatchEvent(new MouseEvent("contextmenu",t)))},this.handleOverlayClose=t=>{const{root:e}=t;e&&this.closeOverlaysForRoot(e)},this.handleMouseCapture=t=>{const e=this.topOverlay;if(t.target&&e&&e.overlayContent&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)&&function(t){return 0===t.button}(t)){if(t.target instanceof Node){if(t.composedPath().indexOf(e.overlayContent)>=0)return void(this.preventMouseRootClose=!0);this.preventMouseRootClose=!1}}else this.preventMouseRootClose=!0},this._doesNotCloseOnFirstClick=!1,this.handleMouse=t=>{var e;if(this._doesNotCloseOnFirstClick)return void(this._doesNotCloseOnFirstClick=!1);if(this.preventMouseRootClose||t.defaultPrevented)return;const i=[];let n=this.overlays.length;for(;n&&0===i.length;){n-=1;const e=this.overlays[n],o=t.composedPath();(!o.includes(e.trigger)||"hover"!==e.interaction)&&!o.includes(e.overlayContent)&&i.push(e)}let o=null==(e=this.topOverlay)?void 0:e.root,s=h(o);for(;o&&s;)i.push(s),s=h(o),o=null==s?void 0:s.root;s&&i.push(s),i.forEach((t=>this.hideAndCloseOverlay(t)))},this.handleKeydown=t=>{"Escape"===t.code&&this.closeTopOverlay()},this.handleResize=()=>{this.handlingResize||(this.handlingResize=!0,requestAnimationFrame((async()=>{const t=this.overlays.map((t=>t.updateOverlayPosition()));await Promise.all(t),this.handlingResize=!1})))},this.initTabTrapping()}initTabTrapping(){if("loading"===document.readyState)return void document.addEventListener("readystatechange",(()=>{this.initTabTrapping()}),{once:!0});if(this.trappingInited)return;if(this.trappingInited=!0,this.document.body.shadowRoot)return void(this.canTabTrap=!1);if(this.document.body.attachShadow({mode:"open"}),!this.document.body.shadowRoot)return;const t=this.document.body.shadowRoot;t.innerHTML='\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name="open"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id="actual"><slot></slot></div>\n            <div id="holder"><slot name="open"></slot></div>\n        ',this.tabTrapper=t.querySelector("#actual"),this.overlayHolder=t.querySelector("#holder"),this.tabTrapper.attachShadow({mode:"open"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML="<slot></slot>"),this.overlayHolder.addEventListener("contextmenu",this.forwardContextmenuEvent,!0),requestAnimationFrame((()=>{this.applyBodyMargins(),new ResizeObserver((()=>{this.applyBodyMargins()})).observe(document.body)}))}applyBodyMargins(){const{marginLeft:t,marginRight:e,marginTop:i,marginBottom:n}=getComputedStyle(document.body),o=0===parseFloat(t)&&0===parseFloat(e)&&0===parseFloat(i)&&0===parseFloat(n);o&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty("--swc-body-margins-inline",`calc(${t} + ${e})`),this.tabTrapper.style.setProperty("--swc-body-margins-block",`calc(${i} + ${n})`),this._bodyMarginsApplied=!o)}startTabTrapping(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute("aria-hidden","true"))}stopTabTrapping(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute("tabindex"),this.tabTrapper.removeAttribute("aria-hidden"))}get document(){return this.root.ownerDocument||document}get topOverlay(){return this.overlays.slice(-1)[0]}findOverlayForContent(t){for(const e of this.overlays)if(t===e.overlayContent)return e}addEventListeners(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keydown",this.handleKeydown),this.document.addEventListener("sp-overlay-close",this.handleOverlayClose),window.addEventListener("resize",this.handleResize))}isClickOverlayActiveForTrigger(t){return this.overlays.some((e=>t===e.trigger&&"click"===e.interaction))}async openOverlay(t){if(this.addEventListeners(),this.findOverlayForContent(t.content))return!1;t.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),"modal"===t.interaction&&this.startTabTrapping();const e=t.content,{trigger:i}=t;if(e.overlayWillOpenCallback&&e.overlayWillOpenCallback({trigger:i}),t.delayed){const n=[this.overlayTimer.openTimer(t.content)];t.abortPromise&&n.push(t.abortPromise);const o=await Promise.race(n);if(o)return e.overlayOpenCancelledCallback&&e.overlayOpenCancelledCallback({trigger:i}),o}if(t.root&&this.closeOverlaysForRoot(t.root),"click"===t.interaction)this.closeAllHoverOverlays();else if("hover"===t.interaction&&this.isClickOverlayActiveForTrigger(t.trigger))return!0;const n=xt.create(t);this.overlays.length&&this.overlays[this.overlays.length-1].obscure(n.interaction),document.body.appendChild(n),await Tt(),this.overlays.push(n),await n.updateComplete,this.addOverlayEventListeners(n),void 0!==e.open&&(await Tt(),e.open=!0);let o=()=>{};if(e.overlayOpenCallback){const{trigger:t}=n,{overlayOpenCallback:i}=e;o=async()=>await i({trigger:t})}return await n.openCallback(o),!1}addOverlayEventListeners(t){switch(t.addEventListener("close",(()=>{this.hideAndCloseOverlay(t,!0)})),t.interaction){case"replace":this.addReplaceOverlayEventListeners(t);break;case"inline":this.addInlineOverlayEventListeners(t)}}addReplaceOverlayEventListeners(t){t.addEventListener("keydown",(e=>{const{code:i}=e;"Tab"===i&&(e.stopPropagation(),this.closeOverlay(t.overlayContent),t.tabbingAway=!0,t.trigger.focus(),t.trigger.dispatchEvent(new KeyboardEvent("keydown",e)))}))}addInlineOverlayEventListeners(t){t.trigger.addEventListener("keydown",t.handleInlineTriggerKeydown),t.addEventListener("keydown",(e=>{const{code:i,shiftKey:n}=e;if("Tab"!==i)return;if(t.tabbingAway=!0,n){const e=document.createElement("span");return e.tabIndex=-1,t.trigger.hasAttribute("slot")&&(e.slot=t.trigger.slot),t.trigger.insertAdjacentElement("afterend",e),e.focus(),void e.remove()}e.stopPropagation();const o=t.trigger;void 0!==o.open&&(o.open=!1),this.closeOverlay(t.overlayContent),t.trigger.focus()}))}closeOverlay(t){this.overlayTimer.close(t),requestAnimationFrame((()=>{const e=this.findOverlayForContent(t),i=[e];i.push(...d(e,this.overlays)),i.forEach((t=>this.hideAndCloseOverlay(t)))}))}closeAllHoverOverlays(){for(const t of this.overlays)"hover"===t.interaction&&this.hideAndCloseOverlay(t,!1)}closeOverlaysForRoot(t){const e=[];for(const i of this.overlays)i.root&&i.root===t&&(e.push(i),e.push(...d(i,this.overlays)));e.forEach((t=>this.hideAndCloseOverlay(t,!0,!0)))}async manageFocusAfterCloseWhenOverlaysRemain(t,e){const i=this.overlays[this.overlays.length-1];if(i.feature(),"modal"===i.interaction||i.hasModalRoot){if(t)return;await(e||i).focus()}else this.stopTabTrapping()}manageFocusAfterCloseWhenLastOverlay(t){this.stopTabTrapping();const e="modal"===t.interaction,i="auto"===t.receivesFocus,n="replace"===t.interaction,o="inline"===t.interaction,s=(n||o)&&!t.tabbingAway;if(t.tabbingAway=!1,!e&&!i&&!s)return;const r=t.overlayContent.getRootNode().activeElement;let a,l;(e||t.overlayContent.contains(r)||(a=t.trigger.getRootNode(),l=a.activeElement,a.contains(l))||a.host&&a.host===l)&&t.trigger.focus()}async hideAndCloseOverlay(t,e,i){if(!t)return;const n=t.overlayContent;if(void 0!==n.overlayWillCloseCallback){const{trigger:e}=t;if(n.overlayWillCloseCallback({trigger:e}))return}if(await t.hide(e),void 0!==n.open&&(n.open=!1),n.overlayCloseCallback){const{trigger:e}=t;await n.overlayCloseCallback({trigger:e})}if("dispose"!=t.state)return;const o=this.overlays.indexOf(t);o>=0&&this.overlays.splice(o,1),this.overlays.length?await this.manageFocusAfterCloseWhenOverlaysRemain(i||"hover"===t.interaction,t.trigger):this.manageFocusAfterCloseWhenLastOverlay(t),await t.updateComplete,t.remove(),t.dispose(),t.trigger.dispatchEvent(new CustomEvent("sp-closed",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:t.interaction}}))}closeTopOverlay(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}}}]);